---
title: Как айтишник ноутбук покупает
layout: post
permalink: /kak-ajtishnik-noutbuk-pokupaet/
categories:
  - Soft
tags:
  - Apple
  - macbook
  - ruby
  - ноутбук
---
Я давно хочу приобрести macbook и, к сожалению, не успел это сделать до нового года, точнее до того времени как доллар вырос в два раза и цены на технику apple соответственно тоже. В результате, до нового года я мог купить pro с ретина дисплеем, а сейчас могу рассчитывать только на air начала 14 года. Но я не унываю и жду спад доллара или повышение зарплаты. В любом случае, мне надоело мониторить цены самостоятельно, постоянно заходить на кучу интернет магазинов и сравнивать цены и было решено написать парсер.<!--more-->

Как выглядела первая версия сейчас уже наверно не найти, разве что в git&#8217;е до init коммита откатываться. Сейчас работаю уже над третьей версией скрипта. Пишу его конечно же на ruby (по всей видимости это мой любимый язык). Пытаюсь избавиться от повторений в коде и добавляю всякие фишки. Последней фичей стала генерация html странички. Изначально парсер отрабатывал и присылал письмо мне на почту, ох и накопилось у меня там писем. Но теперь, он присылает мне письмо и генерирует html, который в свою очередь отдается на том же сервере nginx&#8217;ом.

Для программиста это несложная задачка, для меня же, определенный опыт и повышение мастерства. Еще подумываю над статистикой и базой данных и вообще кучей функций. Резонный вопрос &#8212; зачем? Надо же хоть на чем-то учиться, да и для меня это удобнее, чем открывать 10 страниц интернет магазинов и сравнивать вручную.

Вот так выглядит сгенерированный html:<a href="https://doam.ru/wp-content/uploads/2015/02/2015-02-23-14-23-18-Skrinshot-e-krana.png" rel="lightbox[1056]" title="2015-02-23 14-23-18 Скриншот экрана"><img class="aligncenter size-large wp-image-1057" src="https://doam.ru/wp-content/uploads/2015/02/2015-02-23-14-23-18-Skrinshot-e-krana-1024x463.png" alt="2015-02-23 14-23-18 Скриншот экрана" width="750" height="339" /></a>

В письме все гораздо лаконичнее:  
<a href="https://doam.ru/wp-content/uploads/2015/02/2015-02-23-14-24-30-Skrinshot-e-krana.png" rel="lightbox[1056]" title="2015-02-23 14-24-30 Скриншот экрана"><img class="aligncenter size-large wp-image-1058" src="https://doam.ru/wp-content/uploads/2015/02/2015-02-23-14-24-30-Skrinshot-e-krana.png" alt="2015-02-23 14-24-30 Скриншот экрана" width="750" height="349" /></a>